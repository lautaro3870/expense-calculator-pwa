(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2110:function(e,t,r){Promise.resolve().then(r.bind(r,9448))},2069:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var a=r(2265),n=r(1994),i=r(8241),o=r(8720),s=r(5086),l=r(135),c=r(7437),d=r(6063),p=r(1124),u=r(2166);let g=(0,r(4143).Z)("MuiBox",["root"]),h=(0,p.Z)();var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{themeId:t,defaultTheme:r,defaultClassName:d="MuiBox-root",generateClassName:p}=e,u=(0,i.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(o.Z);return a.forwardRef(function(e,a){let i=(0,l.Z)(r),{className:o,component:g="div",...h}=(0,s.Z)(e);return(0,c.jsx)(u,{as:g,ref:a,className:(0,n.Z)(o,p?p(d):d),theme:t&&i[t]||i,...h})})}({themeId:u.Z,defaultTheme:h,defaultClassName:g.root,generateClassName:d.Z.generate})},5002:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var a=r(2265),n=r(1994),i=r(801),o=r(6303),s=r(3205),l=r(1086),c=r(7053),d=r(5657),p=r(3858),u=r(4143),g=r(738);function h(e){return(0,g.ZP)("MuiTypography",e)}(0,u.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=r(7437);let x={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},y=(0,o.u7)(),f=e=>{let{align:t,gutterBottom:r,noWrap:a,paragraph:n,variant:o,classes:s}=e,l={root:["root",o,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return(0,i.Z)(l,h,s)},v=(0,s.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,d.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((0,l.Z)(e=>{var t;let{theme:r}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(e=>{let[t,r]=e;return"inherit"!==t&&r&&"object"==typeof r}).map(e=>{let[t,r]=e;return{props:{variant:t},style:r}}),...Object.entries(r.palette).filter((0,p.Z)()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(r.vars||r).palette[t].main}}}),...Object.entries((null===(t=r.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"==typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat((0,d.Z)(t))},style:{color:(r.vars||r).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"};var Z=a.forwardRef(function(e,t){let{color:r,...a}=(0,c.i)({props:e,name:"MuiTypography"}),i=!x[r],o=y({...a,...i&&{color:r}}),{align:s="inherit",className:l,component:d,gutterBottom:p=!1,noWrap:u=!1,paragraph:g=!1,variant:h="body1",variantMapping:Z=b,...j}=o,w={...o,align:s,color:r,className:l,component:d,gutterBottom:p,noWrap:u,paragraph:g,variant:h,variantMapping:Z},S=d||(g?"p":Z[h]||b[h])||"span",C=f(w);return(0,m.jsx)(v,{as:S,ref:t,className:(0,n.Z)(C.root,l),...j,ownerState:w,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...j.style}})})},9448:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var a=r(7437),n=r(208),i=r(9469),o=r(1201),s=r(2095),l=r(2281),c=r(4301),d=r(3410),p=r(3977),u=r(6672);function g(e){let{categories:t,expenses:r,deleteExpense:g}=e;return(0,a.jsx)(s.Z,{component:d.Z,sx:{height:"100%",overflow:"auto"},children:(0,a.jsxs)(n.Z,{stickyHeader:!0,"aria-label":"simple table",children:[(0,a.jsx)(l.Z,{children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(o.Z,{children:"Gasto"}),(0,a.jsx)(o.Z,{align:"right",children:"Categoria"}),(0,a.jsx)(o.Z,{align:"right",children:"Fecha"}),(0,a.jsx)(o.Z,{align:"right",children:"Acciones"})]})}),(0,a.jsx)(i.Z,{children:r.map(e=>(0,a.jsxs)(c.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsxs)(o.Z,{component:"th",scope:"row",children:["$",e.amount]}),(0,a.jsx)(o.Z,{align:"right",children:e.categoryName}),(0,a.jsx)(o.Z,{align:"right",children:new Date(e.date).toLocaleDateString("es-AR")}),(0,a.jsx)(o.Z,{align:"right",children:(0,a.jsx)(p.Z,{color:"error",variant:"contained",onClick:()=>g(e.id),children:(0,a.jsx)(u.Z,{})})})]},e.id))})]})})}var h=r(2069),m=r(7404),x=r(2362),y=r(20),f=r(9054),v=r(2265),b=r(1994),Z=r(801),j=r(5208),w=r(4765),S=r(3205),C=r(1086),I=r(7053),O=r(5566),N=r(3986),B=r(4217),D=r(118),M=r(4143);let k=(0,M.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),R=(0,M.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),T=(0,M.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var F=r(738);function E(e){return(0,F.ZP)("MuiMenuItem",e)}let J=(0,M.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),P=e=>{let{disabled:t,dense:r,divider:a,disableGutters:n,selected:i,classes:o}=e,s=(0,Z.Z)({root:["root",r&&"dense",t&&"disabled",!n&&"gutters",a&&"divider",i&&"selected"]},E,o);return{...o,...s}},A=(0,S.ZP)(N.Z,{shouldForwardProp:e=>(0,w.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((0,C.Z)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(J.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,j.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(J.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,j.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(J.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,j.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,j.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(J.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(J.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(k.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(k.inset)]:{marginLeft:52},["& .".concat(T.root)]:{marginTop:0,marginBottom:0},["& .".concat(T.inset)]:{paddingLeft:36},["& .".concat(R.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(R.root," svg")]:{fontSize:"1.25rem"}}}]}})),L=v.forwardRef(function(e,t){let r;let n=(0,I.i)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:p="menuitem",tabIndex:u,className:g,...h}=n,m=v.useContext(O.Z),x=v.useMemo(()=>({dense:s||m.dense||!1,disableGutters:c}),[m.dense,s,c]),y=v.useRef(null);(0,B.Z)(()=>{i&&y.current&&y.current.focus()},[i]);let f={...n,dense:x.dense,divider:l,disableGutters:c},Z=P(n),j=(0,D.Z)(y,t);return n.disabled||(r=void 0!==u?u:-1),(0,a.jsx)(O.Z.Provider,{value:x,children:(0,a.jsx)(A,{ref:j,role:p,tabIndex:r,component:o,focusVisibleClassName:(0,b.Z)(Z.focusVisible,d),className:(0,b.Z)(Z.root,g),...h,ownerState:f,classes:Z})})});var V=r(9886);function W(e){let{categories:t,createExpense:r,deleteAllExpenses:n,expenseInputId:i}=e,[o,s]=(0,v.useState)(""),[l,c]=(0,v.useState)(null);return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),l&&r(parseFloat(o),l)&&(s(""),c(null))},children:(0,a.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"row",gap:1,justifyContent:"center",marginBottom:"1rem"},children:[(0,a.jsx)(m.Z,{id:i,size:"small",label:"Gasto",sx:{width:"7rem"},type:"number",value:o,onChange:e=>s(e.target.value)}),(0,a.jsxs)(x.Z,{size:"small",sx:{width:"7rem"},children:[(0,a.jsx)(y.Z,{id:"demo-simple-select-label",children:"Categoria"}),(0,a.jsxs)(f.Z,{id:"demo-simple-select",label:"Categoria",value:l?JSON.stringify(l):"",labelId:"demo-simple-select-label",onChange:e=>{let t=e.target.value;c(t?JSON.parse(t):null)},children:[(0,a.jsx)(L,{value:"",children:"Categoria"}),t.map(e=>(0,a.jsx)(L,{value:JSON.stringify(e),children:e.category},e.id))]})]}),(0,a.jsx)(p.Z,{variant:"contained",type:"submit",children:(0,a.jsx)(V.Z,{})}),(0,a.jsx)(p.Z,{variant:"contained",color:"error",onClick:n,children:(0,a.jsx)(u.Z,{})})]})})}var z=r(5002);function H(e){let{expenses:t}=e,r=(0,v.useRef)(null),[n,i]=(0,v.useState)(0),[o,s]=(0,v.useState)(""),[l,c]=(0,v.useState)(!1),[d,p]=(0,v.useState)(""),u=()=>new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),g=()=>{i(t.reduce((e,t)=>e+t.amount,0))},x=e=>{c(e),e||window.localStorage.setItem("amountToSpend",o)},y=()=>{let e=new Date,t=u();return parseFloat(o)/t*e.getDate()},f=()=>(y()-n).toFixed(2);return(0,v.useEffect)(()=>{if(l){var e;null===(e=r.current)||void 0===e||e.focus()}p(f())},[l,n,t]),(0,v.useEffect)(()=>{u(),g(),s((window.localStorage.getItem("amountToSpend")||0).toString())},[t]),(0,a.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",width:250},children:[(0,a.jsx)(z.Z,{variant:"body1",children:"Gastado: "}),(0,a.jsxs)(z.Z,{children:["$",n.toFixed(2)]})]}),(0,a.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",width:250},children:[(0,a.jsx)(z.Z,{variant:"body1",children:"Total a gastar: "}),l?(0,a.jsx)(m.Z,{id:"input-amount-to-spend",size:"small",inputRef:r,type:"number",value:o,onBlur:()=>x(!1),onChange:e=>s(e.target.value)}):(0,a.jsxs)(z.Z,{onClick:()=>x(!0),children:["$",o||0]})]}),(0,a.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",width:250},children:[(0,a.jsx)(z.Z,{variant:"body1",children:"Restante a gastar: "}),(0,a.jsxs)(z.Z,{color:parseFloat(d)>0?"primary":"error",children:["$ ",d||0]})]})]})}var _=r(4147),G=r(5515),q=r.n(G);function $(){let[e,t]=(0,v.useState)([]),[r,n]=(0,v.useState)([]),i="expense-input",o=()=>{let e=window.localStorage.getItem("expenses"),r=window.localStorage.getItem("categories"),a=e?JSON.parse(e):[],i=r?JSON.parse(r):[];t(a.map(e=>{let t=i.find(t=>t.id===e.categoryId);return{...e,categoryName:t?t.category:"Sin categor\xeda"}})),n(i)},s=e=>e.reduce((e,t)=>(e[t.categoryId]||(e[t.categoryId]={categoryId:t.categoryId,categoryName:t.categoryName,total:0}),e[t.categoryId].total+=t.amount,e),{}),l=e=>{if(!e.length)return;let t=localStorage.getItem("expensesReport"),r=t?JSON.parse(t):{},a=new Date;r["".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"))]=s(e),localStorage.setItem("expensesReport",JSON.stringify(r))};return(0,v.useEffect)(()=>{var e;o(),null===(e=document.getElementById(i))||void 0===e||e.focus()},[]),(0,v.useEffect)(()=>{l(e)},[e]),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box",marginTop:"3rem"},children:[(0,a.jsx)(W,{categories:r,createExpense:(e,r)=>{if(!e||!(null==r?void 0:r.id))return!1;let a=new Date,n={id:(0,_.Z)(),amount:Number(e.toFixed(3)),date:a.toISOString(),categoryId:r.id,categoryName:r.category,timestamp:a.getTime()};return t(e=>{let t=[n,...e];return localStorage.setItem("expenses",JSON.stringify(t)),t}),!0},deleteAllExpenses:()=>{q().fire({title:"\xbfEliminar todos los gastos?",showDenyButton:!0,confirmButtonText:"Confirmar"}).then(e=>{if(e.isConfirmed){q().fire("Eliminados!","","success");let e=[];t(e),window.localStorage.setItem("expenses",JSON.stringify(e))}else e.isDenied&&q().close()})},expenseInputId:i}),(0,a.jsx)("hr",{style:{width:"100%",border:"1px solid"}}),(0,a.jsx)(H,{expenses:e}),(0,a.jsx)("hr",{style:{width:"100%",border:"1px solid"}}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{style:{flex:1,minHeight:0,overflow:"auto",marginBottom:"3rem"},children:(0,a.jsx)(g,{categories:r,expenses:e,deleteExpense:r=>{let a=e.filter(e=>e.id!==r);t(a),window.localStorage.setItem("expenses",JSON.stringify(a))}})})]})}}},function(e){e.O(0,[461,934,226,295,971,117,744],function(){return e(e.s=2110)}),_N_E=e.O()}]);