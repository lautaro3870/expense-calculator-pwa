(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{4839:function(e,t,r){Promise.resolve().then(r.bind(r,325))},2069:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(2265),o=r(1994),i=r(8241),a=r(8720),l=r(5086),s=r(135),u=r(7437),c=r(6063),p=r(1124),f=r(2166);let d=(0,r(4143).Z)("MuiBox",["root"]),h=(0,p.Z)();var y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{themeId:t,defaultTheme:r,defaultClassName:c="MuiBox-root",generateClassName:p}=e,f=(0,i.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(a.Z);return n.forwardRef(function(e,n){let i=(0,s.Z)(r),{className:a,component:d="div",...h}=(0,l.Z)(e);return(0,u.jsx)(f,{as:d,ref:n,className:(0,o.Z)(a,p?p(c):c),theme:t&&i[t]||i,...h})})}({themeId:f.Z,defaultTheme:h,defaultClassName:d.root,generateClassName:c.Z.generate})},5002:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(2265),o=r(1994),i=r(801),a=r(6303),l=r(3205),s=r(1086),u=r(7053),c=r(5657),p=r(3858),f=r(4143),d=r(738);function h(e){return(0,d.ZP)("MuiTypography",e)}(0,f.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var y=r(7437);let g={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},v=(0,a.u7)(),m=e=>{let{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:a,classes:l}=e,s={root:["root",a,"inherit"!==e.align&&"align".concat((0,c.Z)(t)),r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return(0,i.Z)(s,h,l)},b=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,c.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((0,s.Z)(e=>{var t;let{theme:r}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(e=>{let[t,r]=e;return"inherit"!==t&&r&&"object"==typeof r}).map(e=>{let[t,r]=e;return{props:{variant:t},style:r}}),...Object.entries(r.palette).filter((0,p.Z)()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(r.vars||r).palette[t].main}}}),...Object.entries((null===(t=r.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"==typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat((0,c.Z)(t))},style:{color:(r.vars||r).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),x={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"};var j=n.forwardRef(function(e,t){let{color:r,...n}=(0,u.i)({props:e,name:"MuiTypography"}),i=!g[r],a=v({...n,...i&&{color:r}}),{align:l="inherit",className:s,component:c,gutterBottom:p=!1,noWrap:f=!1,paragraph:d=!1,variant:h="body1",variantMapping:j=x,...O}=a,w={...a,align:l,color:r,className:s,component:c,gutterBottom:p,noWrap:f,paragraph:d,variant:h,variantMapping:j},k=c||(d?"p":j[h]||x[h])||"span",_=m(w);return(0,y.jsx)(b,{as:k,ref:t,className:(0,o.Z)(_.root,s),...O,ownerState:w,style:{..."inherit"!==l&&{"--Typography-textAlign":l},...O.style}})})},8049:function(e,t,r){"use strict";var n=r(4397);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},718:function(e,t,r){e.exports=r(8049)()},4397:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3359:function(e,t,r){e.exports=r(5183)},7593:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(2265))&&n.__esModule?n:{default:n},a=r(5822),l=r(4112),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return a.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,r=e.headers,n=e.separator,o=e.enclosingCharacter,i=e.uFEFF,a=e.target,l=e.specs,s=e.replace;this.state.page=window.open(this.buildURI(t,i,r,n,o),a,l,s)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(i.default.Component);s.defaultProps=Object.assign(l.defaultProps,{target:"_blank"}),s.propTypes=l.propTypes,t.default=s},6065:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(2265))&&n.__esModule?n:{default:n},l=r(5822),s=r(4112),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buildURI=r.buildURI.bind(r),r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var r=this.props,n=r.data,o=r.headers,i=r.separator,a=r.filename,s=r.enclosingCharacter,u=r.uFEFF,c=t&&"function"==typeof n?n():n,p=new Blob([u?"\uFEFF":"",(0,l.toCSV)(c,o,i,s)]);return window.navigator.msSaveBlob(p,a),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,function(r){if(!1===r){e.preventDefault();return}t.handleLegacy(e,!0)})}},{key:"handleSyncClick",value:function(e){if(!1===this.props.onClick(e)){e.preventDefault();return}this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"==typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.headers,i=t.separator,l=t.filename,s=t.uFEFF,u=t.children,c=(t.onClick,t.asyncOnClick,t.enclosingCharacter),p=function(e,t){var r={};for(var n in e)!(t.indexOf(n)>=0)&&Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),f="undefined"==typeof window?"":this.buildURI(r,s,n,i,c);return a.default.createElement("a",o({download:l},p,{ref:function(t){return e.link=t},target:"_self",href:f,onClick:this.handleClick()}),u)}}]),t}(a.default.Component);u.defaultProps=s.defaultProps,u.propTypes=s.propTypes,t.default=u},5822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}var o=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},i=t.isJsons=function(e){return Array.isArray(e)&&e.every(function(e){return(void 0===e?"undefined":r(e))==="object"&&!(e instanceof Array)})},a=t.isArrays=function(e){return Array.isArray(e)&&e.every(function(e){return Array.isArray(e)})},l=t.jsonsHeaders=function(e){return Array.from(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return new Set([].concat(n(e),n(t)))},[]))},s=t.jsons2arrays=function(e,t){var r=t=t||l(e),o=t;return i(t)&&(r=t.map(function(e){return e.label}),o=t.map(function(e){return e.key})),[r].concat(n(e.map(function(e){return o.map(function(t){return u(t,e)})})))},u=t.getHeaderValue=function(e,t){var r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(e,t,r,n){var o=e[t];if(null!=o)return o;n.splice(1)},t);return void 0===r?e in t?t[e]:"":r},c=t.elementOrEmpty=function(e){return null==e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter(function(e){return e}).map(function(e){return e.map(function(e){return c(e)}).map(function(e){return""+r+e+r}).join(t)}).join("\n")},f=t.arrays2csv=function(e,t,r,o){return p(t?[t].concat(n(e)):e,r,o)},d=t.jsons2csv=function(e,t,r,n){return p(s(e,t),r,n)},h=t.string2csv=function(e,t,r,n){return t?t.join(r)+"\n"+e:e.replace(/"/g,'""')},y=t.toCSV=function(e,t,r,n){if(i(e))return d(e,t,r,n);if(a(e))return f(e,t,r,n);if("string"==typeof e)return h(e,t,r);throw TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,r,n,i){var a=y(e,r,n,i),l=o()?"application/csv":"text/csv",s=new Blob([t?"\uFEFF":"",a],{type:l}),u="data:"+l+";charset=utf-8,"+(t?"\uFEFF":"")+a,c=window.URL||window.webkitURL;return void 0===c.createObjectURL?u:c.createObjectURL(s)}},5183:function(e,t,r){"use strict";t.CSVLink=void 0;var n=i(r(7593)),o=i(r(6065));function i(e){return e&&e.__esModule?e:{default:e}}n.default,t.CSVLink=o.default},4112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0,(n=r(2265))&&n.__esModule;var n,o=r(718);t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(7437),o=r(208),i=r(9469),a=r(1201),l=r(2095),s=r(2281),u=r(4301),c=r(3410),p=r(2265),f=r(5002),d=r(2069),h=r(3977),y=r(5515),g=r.n(y),v=(0,r(4630).Z)((0,n.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),m=r(3359);function b(){let[e,t]=(0,p.useState)([]),[r,y]=(0,p.useState)([]),[b,x]=(0,p.useState)(""),[j,O]=(0,p.useState)([]),w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return{position:"sticky",left:0,width:70,minWidth:70,maxWidth:70,backgroundColor:"background.paper",boxShadow:"2px 0 4px rgba(0,0,0,0.1)",zIndex:e}},k=e=>({"01":"Enero","02":"Febrero","03":"Marzo","04":"Abril","05":"Mayo","06":"Junio","07":"Julio","08":"Agosto","09":"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"})[e.split("-")[1]],_=(e,t)=>t.map(t=>{let r=e.reduce((e,r)=>{var n;let o=r.categories.find(e=>e.categoryId===t.id);return e+(null!==(n=null==o?void 0:o.total)&&void 0!==n?n:0)},0);return{categoryName:t.category,total:r}}),C=(e,t)=>e.reduce((e,r)=>e+t.reduce((e,t)=>{var n;let o=r.categories.find(e=>e.categoryId===t.id);return e+(null!==(n=null==o?void 0:o.total)&&void 0!==n?n:0)},0),0),S=e=>Object.entries(JSON.parse(e)).map(e=>{let[t,r]=e;return{month:t,categories:Object.values(r)}}).sort((e,t)=>t.month.localeCompare(e.month)),Z=e=>[e.reduce((e,t)=>{let{categoryName:r,total:n}=t;return e[r]=n,e},{})];return(0,p.useEffect)(()=>{let e=localStorage.getItem("categories");t(e?JSON.parse(e):[]);let r=localStorage.getItem("expensesReport"),n=S(r||"[]");y(r?n:[]),x(C(n,e?JSON.parse(e):[]).toFixed(2)),O(Z(_(n,e?JSON.parse(e):[])))},[]),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box",marginTop:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"0 auto",marginBottom:"1rem"},children:[(0,n.jsxs)(f.Z,{children:["Total gastado: $",b||0]}),(0,n.jsxs)(d.Z,{sx:{marginTop:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",gap:1},children:[(0,n.jsx)(h.Z,{sx:{width:"2.5rem"},variant:"contained",color:"error",onClick:()=>{g().fire({title:"\xbfEliminar datos del reporte?",showDenyButton:!0,confirmButtonText:"Confirmar"}).then(e=>{e.isConfirmed?(g().fire("Eliminados!","","success"),localStorage.removeItem("expensesReport"),y([]),x("")):e.isDenied&&g().close()})},children:"Limpiar"}),(0,n.jsx)(h.Z,{variant:"contained",children:(0,n.jsx)(m.CSVLink,{data:j,filename:"categoriasAnual.csv",className:"btn btn-primary",children:(0,n.jsx)(v,{sx:{marginTop:"0.3rem"}})})})]})]}),(0,n.jsx)("hr",{style:{width:"100%",marginBottom:"1rem"}}),(0,n.jsx)("div",{style:{flex:1,minHeight:0,overflow:"auto"},children:(0,n.jsx)(l.Z,{component:c.Z,sx:{height:"100%",overflow:"auto",maxWidth:"100%"},children:(0,n.jsxs)(o.Z,{stickyHeader:!0,"aria-label":"simple table",children:[(0,n.jsx)(s.Z,{children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(a.Z,{sx:w(),children:"Mes"}),e.map(e=>(0,n.jsx)(a.Z,{align:"right",children:e.category},e.id)),(0,n.jsx)(a.Z,{align:"right",children:(0,n.jsx)("strong",{children:"Total"})})]})}),(0,n.jsx)(i.Z,{children:r.map(t=>{let r=0;return(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(a.Z,{sx:w(2),component:"th",scope:"row",children:k(t.month)}),e.map(e=>{let o=t.categories.find(t=>t.categoryId===e.id),i=o?o.total:0;return r+=i,(0,n.jsx)(a.Z,{align:"right",children:i},e.id)}),(0,n.jsx)(a.Z,{align:"right",children:(0,n.jsx)("strong",{children:r.toFixed(2)})})]},t.month)})})]})})})]})}}},function(e){e.O(0,[461,934,226,971,117,744],function(){return e(e.s=4839)}),_N_E=e.O()}]);